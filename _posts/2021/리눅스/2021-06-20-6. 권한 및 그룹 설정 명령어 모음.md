---
title:  "권한 및 그룹 설정 명령어 모음"
excerpt: "권한 관련 명령어와 그룹 설정 명령어들을 알아보자."

categories:
  - 리눅스

tags:
  - 권한 관련 명령어
  - 그룹 설정 명령어
  - 리눅스

last_modified_at: 2021-06-20T23:01:00+09:00
---

- 파일 속성
```
rw-rw-r--(1) 1(2) admin(3) admin(4) 53(5) 2020-11-05(6) 9:48 Untitled(7)
(1): 파일 허가권
(2): 물리적 파일 연결 갯수
(3): 파일 소유자명
(4): 파일 소유 그룹명
(5): 파일 크기(바이트 단위)
(6): 파일이 바이트 단위로 변경된 시간
(7): 파일명
```

## 1. 소유권과 관련 명령어
### 1. chown
- 파일과 디렉터리의 사용자 소유권과 그룹 소유권을 변경
```bash
chown [옵션] 소유자[:그룹명] 파일명
```
- 옵션 설명

|옵션|설명|
|---|---|
|-R	|하위 디렉터리를 포함하여 디렉터리 내부의 모든 파일의 소유권 변경|

---

## 2. 허가권과 관련 명령어
### 1. 파일 유형과 허가권
- ls -l로 파일 유형과 허가권을 알 수 있음
- 파일 허가권의 첫 자리는 파일 유형을 기호로 나타냄
- 파일 유형에는, 일반 파일, 디렉터리 파일, 특수 파일로 나뉨
- 파일 유형

|기호|파일 유형|
|---|------|
|&#124;	|일반 파일|
|d|	디렉터리 파일|
|b|	블록 단위로 읽고 쓰는 블록 장치 특수 파일|
|c|	문자 단위로 읽고 쓰는 문자 장치 특수 파일|
|l	|바로가기 아이콘|
|p	|파이프|
|s|	소켓|

![그림1. 파일 사용자에 따른 권한](./assets/images/리눅스/permission.png)

- 해당 권한의 접근 제한 표시는 - (기호모드), 0 (8진수 모드)로 나타낸다

### 2. chmod
- 파일이나 디렉터리의 접근 허가권을 변경하는 명령어
```bash
chmod [옵션] 파일명
```

- 옵션 설명

|옵션|설명|
|---|---|
|-R	|하위 디렉터리에 포함된 모든 디렉터리 및 파일의 권한 변경|

- 접근 허가권 설명

|기호|숫자(2진수)|숫자(8진수)|
|---|---|---|
|rwx|	111	|7|
|rw-	|110|	6|
|r-x|101|	5|
|r--	|100	|4|
|-wx	|011|	3|
|-w-	|010|	2|
|--x|	001|	1|
|---	|000|	0|

### 3. unmask
- 새로 생성되는 파일이나 디렉터리의 기본 허가권을 설정
- 파일의 기본 권한은 666, 디렉터리의 기본권한은 777

```bash
unmask [옵션] [값]

* 디폴트 권한 값에서 설정한 unmask 값을 뺀 값을 기본 허가권으로 설정 *
예시) unmask가 022인 경우, 파일권한은 644, 기본 권한은 755
```

- 옵션 설명

|옵션|설명|
|---|---|
|-S	|unmask 값을 문자로 표기|

---

## 3. 특수 권한
### 1. SetUID와 SetGID
- 프로세스가 실행되는 동안 해당 프로세스의 root권한을 임시로 가져오는 기능
- SetUID는 프로그램을 실행하는 동안 파일의 소유자와 같은 권한으로 실행
- SetGID는 프로그램을 실행하는 동안 파일의 그룹과 같은 권한으로 실행

|권한명|코드|절대값|설명|
|---|---|---|---|
|SetUID|	s	|4000	|프로세스 실행 당시 UID로 설정|
|SetGID	|s	|2000|	프로세스 실행 당시 GID로 설정|
|Sticky Bit|	t|	1000|	실행 후에도 메모리를 점유하도록 설정|

### 2. StickyBit
- 일반적으로 공용 디렉터리를 사용할 때 StickyBit을 설정하여 사용
- StickyBit이 설정되어 있는 디렉터리 안의 내용은 해당파일의 소유자나 root만이 변경 가능. 다른 사용자들의 파일을 보호함
- 일시적으로 특정 디렉터리에 파일을 생성하고 삭제하도록 하기 위함
- 다른 응용 프로그램에서 생성한 파일을 삭제하지 못하는 권한 설정을 함
- 설정된 디렉터리에는 누구든 접근 가능하고, 파일을 생성할 수 있음
- StickyBit파일을 삭제 시에는, 소유자(파일 생성자)와 관리자만 지울 수 있음
- 일반적으로 StickyBit으로 설정되는 디렉터리는 /tmp 안에 생성

<br>
<br>

출처: 이기적 리눅스마스터 2급 기본서
